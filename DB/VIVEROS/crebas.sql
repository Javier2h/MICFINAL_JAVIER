
/*==============================================================*/
/* TABLAS SIN CLAVES FORÁNEAS                                   */
/*==============================================================*/

/* Tabla: CLIENTES */
CREATE TABLE CLIENTES (
   ID_CLIENTE INT PRIMARY KEY,
   NOMBRE VARCHAR(100),
   APELLIDO VARCHAR(100),
   DIRECCION VARCHAR(100),
   NUMERO VARCHAR(10)
);

/* Tabla: EMPLEADOS */
CREATE TABLE EMPLEADOS (
   ID_EMPLEADO INT PRIMARY KEY,
   NOMBRE VARCHAR(100),
   CONTACTO VARCHAR(10)
);

/* Tabla: PROVEEDORES */
CREATE TABLE PROVEEDORES (
   ID_PROVEEDOR INT PRIMARY KEY,
   NOMBRE_PROVEEDOR VARCHAR(100),
   DIRECCION_PROVEEDOR VARCHAR(100),
   NUMERO_PROVE VARCHAR(10)
);

/* Tabla: SERVICIOS */
CREATE TABLE SERVICIOS (
   ID_SERVICIO INT PRIMARY KEY,
   NOMBRE VARCHAR(100),
   VALOR DECIMAL(10,2)
);

/*==============================================================*/
/* TABLAS CON CLAVES FORÁNEAS                                   */
/*==============================================================*/

/* Tabla: PLANTAS */
CREATE TABLE PLANTAS (
   ID_PLANTA INT PRIMARY KEY,
   NOMBRE VARCHAR(100),
   COLOR VARCHAR(100),
   ID_PROVEEDOR INT,
   PRECIO DECIMAL(10,2),
   FOREIGN KEY (ID_PROVEEDOR) REFERENCES PROVEEDORES(ID_PROVEEDOR)
);

/* Tabla: VENTAS */
CREATE TABLE VENTAS (
   ID_VENTA INT PRIMARY KEY,
   FECHA DATETIME,
   ID_CLIENTE INT,
   ID_EMPLEADO INT,
   TIPO_PAGO VARCHAR(100),
   DIRECCION_ENTREGA VARCHAR(100),
   FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE),
   FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADOS(ID_EMPLEADO)
);

/* Tabla: DETALLE_VENTAS */
/* Relación muchos a muchos entre VENTAS y PLANTAS/SERVICIOS */
CREATE TABLE DETALLE_VENTAS (
   ID_DETALLE INT PRIMARY KEY,
   ID_VENTA INT,
   ID_PLANTA INT,    
   ID_SERVICIO INT,  
   CANTIDAD INT,
   SUBTOTAL DECIMAL(10,2),
   FOREIGN KEY (ID_VENTA) REFERENCES VENTAS(ID_VENTA),
   FOREIGN KEY (ID_PLANTA) REFERENCES PLANTAS(ID_PLANTA),
   FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIOS(ID_SERVICIO)
);

/* Tabla intermedia: EMPLEADO_SERVICIO */
/* Relación muchos a muchos entre EMPLEADOS y SERVICIOS */
CREATE TABLE EMPLEADO_SERVICIO (
   ID_EMPLEADO INT,
   ID_SERVICIO INT,
   PRIMARY KEY (ID_EMPLEADO, ID_SERVICIO),
   FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADOS(ID_EMPLEADO),
   FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIOS(ID_SERVICIO)
);



-- CLIENTES
INSERT INTO CLIENTES VALUES (1, 'Carlos', 'Pérez', 'Av. Siempre Viva 123', '0991111111');
INSERT INTO CLIENTES VALUES (2, 'Lucía', 'Mendoza', 'Calle Tulipanes 45', '0982222222');
INSERT INTO CLIENTES VALUES (3, 'Pedro', 'Suárez', 'Callejón del Verde 9', '0973333333');
INSERT INTO CLIENTES VALUES (4, 'Andrea', 'Ríos', 'Camino a los Andes', '0964444444');

-- EMPLEADOS

INSERT INTO EMPLEADOS VALUES (1, 'Juan Ortega', '0981111111');
INSERT INTO EMPLEADOS VALUES (2, 'María López', '0972222222');
INSERT INTO EMPLEADOS VALUES (3, 'Luis Cevallos', '0963333333');
INSERT INTO EMPLEADOS VALUES (4, 'Ana Torres', '0954444444');


-- PROVEEDORES
INSERT INTO PROVEEDORES VALUES (1, 'Vivero El Bosque', 'Km 10 vía a Daule', '042123456');
INSERT INTO PROVEEDORES VALUES (2, 'Plantas Quito', 'Av. Amazonas 340', '022456789');
INSERT INTO PROVEEDORES VALUES (3, 'EcoPlantas', 'Calle Los Geranios', '0991234567');
INSERT INTO PROVEEDORES VALUES (4, 'Jardines Verdes', 'Av. Oriental', '0987654321');



-- PLANTAS
INSERT INTO PLANTAS VALUES (1, 'Rosa', 'Rojo', 1, 5.00);
INSERT INTO PLANTAS VALUES (2, 'Helecho', 'Verde', 2, 7.50);
INSERT INTO PLANTAS VALUES (3, 'Cactus', 'Verde', 3, 3.50);
INSERT INTO PLANTAS VALUES (4, 'Orquídea', 'Blanco', 4, 12.00);


-- SERVICIOS
INSERT INTO SERVICIOS VALUES (1, 'Diseño de jardines', 150.00);
INSERT INTO SERVICIOS VALUES (2, 'Fumigación', 80.00);
INSERT INTO SERVICIOS VALUES (3, 'Mantenimiento mensual', 100.00);
INSERT INTO SERVICIOS VALUES (4, 'Instalación de riego', 200.00);


-- VENTAS
INSERT INTO VENTAS VALUES (1, '2025-07-01 10:00:00', 1, 1, 'Efectivo', 'Av. Siempre Viva 123');
INSERT INTO VENTAS VALUES (2, '2025-07-02 11:30:00', 2, 2, 'Transferencia', 'Calle Tulipanes 45');
INSERT INTO VENTAS VALUES (3, '2025-07-03 09:45:00', 3, 3, 'Tarjeta', 'Callejón del Verde 9');
INSERT INTO VENTAS VALUES (4, '2025-07-04 14:20:00', 4, 4, 'Efectivo', 'Camino a los Andes');


-- DETALLE_VENTAS
-- Venta 1: Rosa x2 y Fumigación
INSERT INTO DETALLE_VENTAS VALUES (1, 1, 1, NULL, 2, 10.00);
INSERT INTO DETALLE_VENTAS VALUES (2, 1, NULL, 2, 1, 80.00);

-- Venta 2: Orquídea x1
INSERT INTO DETALLE_VENTAS VALUES (3, 2, 4, NULL, 1, 12.00);

-- Venta 3: Helecho x3 + Diseño
INSERT INTO DETALLE_VENTAS VALUES (4, 3, 2, NULL, 3, 22.50);
INSERT INTO DETALLE_VENTAS VALUES (5, 3, NULL, 1, 1, 150.00);

-- Venta 4: Mantenimiento mensual
INSERT INTO DETALLE_VENTAS VALUES (6, 4, NULL, 3, 1, 100.00);


INSERT INTO EMPLEADO_SERVICIO VALUES (1, 1); 
INSERT INTO EMPLEADO_SERVICIO VALUES (1, 2); 
INSERT INTO EMPLEADO_SERVICIO VALUES (2, 3); 
INSERT INTO EMPLEADO_SERVICIO VALUES (3, 2); 
INSERT INTO EMPLEADO_SERVICIO VALUES (3, 4); 
INSERT INTO EMPLEADO_SERVICIO VALUES (4, 1); 
INSERT INTO EMPLEADO_SERVICIO VALUES (4, 3); 
